<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Steven`s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://stevenocean.github.io/"/>
  <updated>2018-03-19T12:09:03.898Z</updated>
  <id>http://stevenocean.github.io/</id>
  
  <author>
    <name>Steven</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>go-ethereum 源码分析 - 区块结构(1)</title>
    <link href="http://stevenocean.github.io/2018/03/17/go-ethereum-source-analysize-1.html"/>
    <id>http://stevenocean.github.io/2018/03/17/go-ethereum-source-analysize-1.html</id>
    <published>2018-03-17T15:58:00.000Z</published>
    <updated>2018-03-19T12:09:03.898Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;今天抽时间浏览了 Ethereum 的区块结构的相关源码，更加深入地了解区块的数据结构。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;分析的主要是 go-ethereum 项目的源码。版本取的是 Frost(v1.8.2)。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;1-以太坊的基本结构&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#1-以太坊的基本结构&quot;&gt;&lt;/a&gt;1. 以太坊的基本结构&lt;/h2&gt;
&lt;p&gt;先大致了解了以太坊的基本结构，如下图（来自网络）:&lt;/p&gt;
&lt;img src=&quot;/2018/03/17/go-ethereum-source-analysize-1/ethereum-overall-arch-1.jpg&quot;&gt;
&lt;p&gt;其中除了区块链管理（Blockchain Management）和挖矿模块（Miner）之外还包含了：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;基础的分布式数据库结构（Swarm）；&lt;/li&gt;
&lt;li&gt;智能合约（Solidity、Serpent、LLL等），及执行环境 EVM；&lt;/li&gt;
&lt;li&gt;共识机制（PoW-Ethash，PoS）；&lt;/li&gt;
&lt;li&gt;账户管理；&lt;/li&gt;
&lt;li&gt;加密算法模块（SHA-3、RLP等）；&lt;/li&gt;
&lt;li&gt;P2P 网络（Whisper）；&lt;/li&gt;
&lt;li&gt;应用模块（DApp、浏览器钱包-Mist、桌面钱包-EtherWallet、JS框架-Web3js）；&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Ethereum(以太坊)" scheme="http://stevenocean.github.io/categories/Ethereum-%E4%BB%A5%E5%A4%AA%E5%9D%8A/"/>
    
      <category term="blockchain(区块链)" scheme="http://stevenocean.github.io/categories/Ethereum-%E4%BB%A5%E5%A4%AA%E5%9D%8A/blockchain-%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    
      <category term="Ethereum" scheme="http://stevenocean.github.io/tags/Ethereum/"/>
    
      <category term="以太坊" scheme="http://stevenocean.github.io/tags/%E4%BB%A5%E5%A4%AA%E5%9D%8A/"/>
    
      <category term="区块链" scheme="http://stevenocean.github.io/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
      <category term="blockchain" scheme="http://stevenocean.github.io/tags/blockchain/"/>
    
  </entry>
  
  <entry>
    <title>Swift中使用reduce函数的一个小示例</title>
    <link href="http://stevenocean.github.io/2018/03/16/swift-reduce-example.html"/>
    <id>http://stevenocean.github.io/2018/03/16/swift-reduce-example.html</id>
    <published>2018-03-16T14:12:00.000Z</published>
    <updated>2018-03-17T08:56:27.647Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;今天看到一篇通过一个比较有意思的示例来讲解 reduce 函数使用的文章 &lt;a href=&quot;http://appventure.me/2015/11/30/reduce-all-the-things/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;reduce all the things&lt;/a&gt;，自己也依葫芦画瓢的在 Swift 4.0 下实现了一遍 :)&lt;/p&gt;
&lt;p&gt;示例大致是这样的:&lt;/p&gt;
&lt;p&gt;如下为美国各个城市的 persons 列表，其中每个 person 的结构包括姓名、所属城市（其中城市名字符串的逗号之后为州名，如 CA 为加利福尼亚州）、平均年龄。请使用 map/flatmap/filter/reduce 等函数来封装一个查询指定州的总人数和平均年龄，其中函数输入参数为州名，persons 列表。&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; persons: [[&lt;span class=&quot;type&quot;&gt;String&lt;/span&gt;: &lt;span class=&quot;type&quot;&gt;Any&lt;/span&gt;]] = [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;string&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;Carl Saxon&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;city&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;New York, NY&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;age&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;44&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;string&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;Travis Downing&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;city&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;El Segundo, CA&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;age&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;34&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;string&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;Liz Parker&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;city&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;San Francisco, CA&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;age&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;32&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;string&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;John Newden&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;city&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;New Jersey, NY&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;age&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;21&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;string&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;Hector Simons&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;city&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;San Diego, CA&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;age&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;37&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;string&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;Hector Simons&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;city&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;Douglas County, CO&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;age&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;39&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;string&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;Brian Neo&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;age&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;27&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这个示例如果是用 map/flatmap/filter 等函数组合起来也是可以实现的，只是比较啰嗦不够优雅，而且在这个 &lt;strong&gt;persons&lt;/strong&gt; 量级上升后，性能也会不那么乐观（主要涉及到对整个 &lt;strong&gt;persons&lt;/strong&gt; 的遍历次数，使用 &lt;strong&gt;reduce&lt;/strong&gt; 只需要对 &lt;strong&gt;persons&lt;/strong&gt; 遍历一次，具体可以参考那篇文章）。&lt;/p&gt;
    
    </summary>
    
      <category term="Swift" scheme="http://stevenocean.github.io/categories/Swift/"/>
    
    
      <category term="Swift" scheme="http://stevenocean.github.io/tags/Swift/"/>
    
      <category term="reduce" scheme="http://stevenocean.github.io/tags/reduce/"/>
    
  </entry>
  
  <entry>
    <title>firewall-cmd 常用命令使用</title>
    <link href="http://stevenocean.github.io/2018/03/15/firewall-cmd-common-use.html"/>
    <id>http://stevenocean.github.io/2018/03/15/firewall-cmd-common-use.html</id>
    <published>2018-03-15T10:33:00.000Z</published>
    <updated>2018-03-16T03:45:48.013Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;简要记录一下 firewall-cmd 常用命令的使用。&lt;/p&gt;
&lt;h3 id=&quot;启用端口&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#启用端口&quot;&gt;&lt;/a&gt;启用端口&lt;/h3&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ firewall-cmd [--zone=&amp;lt;zone&amp;gt;] --add-port=&amp;lt;port&amp;gt;[-&amp;lt;port&amp;gt;]/&amp;lt;protocol&amp;gt; [--timeout=&amp;lt;seconds&amp;gt;]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;如下示例为添加 tcp 18080 端口:&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ firewall-cmd --add-port=18080/tcp&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;禁用端口&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#禁用端口&quot;&gt;&lt;/a&gt;禁用端口&lt;/h3&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ firewall-cmd [--zone=&amp;lt;zone&amp;gt;] --remove-port=&amp;lt;port&amp;gt;[-&amp;lt;port&amp;gt;]/&amp;lt;protocol&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;如下示例为禁用指定的 tcp 18080 端口:&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ firewall-cmd --remove-port=18080/tcp&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;启用服务&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#启用服务&quot;&gt;&lt;/a&gt;启用服务&lt;/h3&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ firewall-cmd [--zone=&amp;lt;zone&amp;gt;] --add-service=&amp;lt;service&amp;gt; [--timeout=&amp;lt;seconds&amp;gt;]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;如下为启用 http 服务:&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ firewall-cmd --add-service=http&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Linux" scheme="http://stevenocean.github.io/categories/Linux/"/>
    
    
      <category term="firewall" scheme="http://stevenocean.github.io/tags/firewall/"/>
    
      <category term="firewall-cmd" scheme="http://stevenocean.github.io/tags/firewall-cmd/"/>
    
  </entry>
  
</feed>
